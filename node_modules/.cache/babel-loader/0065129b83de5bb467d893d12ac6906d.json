{"ast":null,"code":"var _jsxFileName = \"/Users/minh/Desktop/TestSite/wc-prototype/src/AuthCluster.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport * as fcl from \"@onflow/fcl\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction unauthenticate() {\n  fcl.unauthenticate();\n  window.location.reload(false);\n}\n\nfunction login() {\n  fcl.logIn();\n  window.location.reload(false);\n}\n\nconst AuthCluster = () => {\n  _s();\n\n  const [user, setUser] = useState({\n    loggedIn: null\n  });\n  useEffect(() => fcl.currentUser().subscribe(setUser), []);\n\n  if (user.loggedIn) {\n    var _user$addr;\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_user$addr = user === null || user === void 0 ? void 0 : user.addr) !== null && _user$addr !== void 0 ? _user$addr : \"No Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-primary\",\n        onClick: unauthenticate(),\n        children: \"Log Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-primary\",\n        onClick: login(),\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        onClick: fcl.signUp,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(AuthCluster, \"8pZRos4fKw5dqaLKHWJgE4Fsz9U=\");\n\n_c = AuthCluster;\nexport default AuthCluster;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthCluster\");","map":{"version":3,"sources":["/Users/minh/Desktop/TestSite/wc-prototype/src/AuthCluster.js"],"names":["React","useState","useEffect","fcl","unauthenticate","window","location","reload","login","logIn","AuthCluster","user","setUser","loggedIn","currentUser","subscribe","addr","signUp"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAO,KAAKC,GAAZ,MAAqB,aAArB;;;AAGA,SAASC,cAAT,GAA0B;AACxBD,EAAAA,GAAG,CAACC,cAAJ;AACAC,EAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD;;AAED,SAASC,KAAT,GAAiB;AACfL,EAAAA,GAAG,CAACM,KAAJ;AACAJ,EAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACD;;AAED,MAAMG,WAAW,GAAG,MAAM;AAAA;;AACxB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC;AAACY,IAAAA,QAAQ,EAAE;AAAX,GAAD,CAAhC;AACAX,EAAAA,SAAS,CAAC,MAAMC,GAAG,CAACW,WAAJ,GAAkBC,SAAlB,CAA4BH,OAA5B,CAAP,EAA6C,EAA7C,CAAT;;AACA,MAAID,IAAI,CAACE,QAAT,EAAmB;AAAA;;AACjB,wBACE;AAAA,8BACE;AAAA,gCAAOF,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAEK,IAAb,mDAAqB;AAArB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,SAAS,EAAC,yBAAlB;AAA4C,QAAA,OAAO,EAAEZ,cAAc,EAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD,GAPD,MAOO;AACL,wBACE;AAAA,8BACE;AAAQ,QAAA,SAAS,EAAC,yBAAlB;AAA4C,QAAA,OAAO,EAAEI,KAAK,EAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,SAAS,EAAC,2BAAlB;AAA8C,QAAA,OAAO,EAAEL,GAAG,CAACc,MAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD;AACF,CAlBD;;GAAMP,W;;KAAAA,W;AAoBN,eAAeA,WAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport * as fcl from \"@onflow/fcl\"\n\n\nfunction unauthenticate() {\n  fcl.unauthenticate();\n  window.location.reload(false);\n}\n\nfunction login() {\n  fcl.logIn();\n  window.location.reload(false);\n}\n\nconst AuthCluster = () => {\n  const [user, setUser] = useState({loggedIn: null})\n  useEffect(() => fcl.currentUser().subscribe(setUser), [])\n  if (user.loggedIn) {\n    return (\n      <div>\n        <span>{user?.addr ?? \"No Address\"}</span>\n        <button className=\"btn btn-outline-primary\" onClick={unauthenticate()}>Log Out</button>\n      </div>\n    )\n  } else {\n    return (\n      <div>\n        <button className=\"btn btn-outline-primary\" onClick={login()}>Log In</button>\n        <button className=\"btn btn-outline-secondary\" onClick={fcl.signUp}>Sign Up</button>\n      </div>\n    )\n  }\n}\n\nexport default AuthCluster"]},"metadata":{},"sourceType":"module"}