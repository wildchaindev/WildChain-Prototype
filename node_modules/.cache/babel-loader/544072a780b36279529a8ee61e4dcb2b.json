{"ast":null,"code":"var _jsxFileName = \"/Users/minh/Desktop/TestSite/wc-prototype/src/AuthCluster.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport * as fcl from \"@onflow/fcl\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction unauthenticate(history) {\n  fcl.unauthenticate();\n  history.push(\"/home\", {});\n}\n\nconst AuthCluster = () => {\n  _s();\n\n  let history = useHistory();\n  const [user, setUser] = useState({\n    loggedIn: null\n  });\n  useEffect(() => fcl.currentUser().subscribe(setUser), []);\n\n  if (user.loggedIn) {\n    var _user$addr;\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: (_user$addr = user === null || user === void 0 ? void 0 : user.addr) !== null && _user$addr !== void 0 ? _user$addr : \"No Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-primary\",\n        onClick: () => unauthenticate(),\n        children: \"Log Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-primary\",\n        onClick: fcl.logIn,\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary\",\n        onClick: fcl.signUp,\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(AuthCluster, \"+itBtuwrk9DckOXMrr0B1jfjKBQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = AuthCluster;\nexport default AuthCluster;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthCluster\");","map":{"version":3,"sources":["/Users/minh/Desktop/TestSite/wc-prototype/src/AuthCluster.js"],"names":["React","useState","useEffect","useHistory","fcl","unauthenticate","history","push","AuthCluster","user","setUser","loggedIn","currentUser","subscribe","addr","logIn","signUp"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,KAAKC,GAAZ,MAAqB,aAArB;;;AAGA,SAASC,cAAT,CAAwBC,OAAxB,EAAiC;AAC/BF,EAAAA,GAAG,CAACC,cAAJ;AACAC,EAAAA,OAAO,CAACC,IAAR,CAAa,OAAb,EAAqB,EAArB;AACD;;AAED,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACxB,MAAIF,OAAO,GAAGH,UAAU,EAAxB;AACA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC;AAACU,IAAAA,QAAQ,EAAE;AAAX,GAAD,CAAhC;AACAT,EAAAA,SAAS,CAAC,MAAME,GAAG,CAACQ,WAAJ,GAAkBC,SAAlB,CAA4BH,OAA5B,CAAP,EAA6C,EAA7C,CAAT;;AACA,MAAID,IAAI,CAACE,QAAT,EAAmB;AAAA;;AACjB,wBACE;AAAA,8BACE;AAAA,gCAAOF,IAAP,aAAOA,IAAP,uBAAOA,IAAI,CAAEK,IAAb,mDAAqB;AAArB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,SAAS,EAAC,yBAAlB;AAA4C,QAAA,OAAO,EAAE,MAAMT,cAAc,EAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD,GAPD,MAOO;AACL,wBACE;AAAA,8BACE;AAAQ,QAAA,SAAS,EAAC,yBAAlB;AAA4C,QAAA,OAAO,EAAED,GAAG,CAACW,KAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAQ,QAAA,SAAS,EAAC,2BAAlB;AAA8C,QAAA,OAAO,EAAEX,GAAG,CAACY,MAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAMD;AACF,CAnBD;;GAAMR,W;UACUL,U;;;KADVK,W;AAqBN,eAAeA,WAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { useHistory } from \"react-router-dom\";\nimport * as fcl from \"@onflow/fcl\"\n\n\nfunction unauthenticate(history) {\n  fcl.unauthenticate();\n  history.push(\"/home\",{})\n}\n\nconst AuthCluster = () => {\n  let history = useHistory();\n  const [user, setUser] = useState({loggedIn: null})\n  useEffect(() => fcl.currentUser().subscribe(setUser), [])\n  if (user.loggedIn) {\n    return (\n      <div>\n        <span>{user?.addr ?? \"No Address\"}</span>\n        <button className=\"btn btn-outline-primary\" onClick={() => unauthenticate()}>Log Out</button>\n      </div>\n    )\n  } else {\n    return (\n      <div>\n        <button className=\"btn btn-outline-primary\" onClick={fcl.logIn}>Log In</button>\n        <button className=\"btn btn-outline-secondary\" onClick={fcl.signUp}>Sign Up</button>\n      </div>\n    )\n  }\n}\n\nexport default AuthCluster"]},"metadata":{},"sourceType":"module"}